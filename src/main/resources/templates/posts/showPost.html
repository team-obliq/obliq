<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="fragments/head :: head('Show')" />
</head>
<body>
    <th:block th:replace="fragments/navbar :: navbar" />
    <div class="container fill">
        <div class="row">
            <div class="col">
                <h1 th:text="${post.title}"></h1>
                <p th:text="${post.body}"></p>
                <div class="row">
                    <div th:each="comment : ${comments}" class="col">
                        <p th:text="${comment.body}"></p>
                        <small th:text="'posted on: ' + ${#dates.format(comment.dateCreated, 'yyyy-MM-dd')}"></small>
                        <p th:text="'posted by: '+ ${comment.user.first_name}"></p>
                    </div>
                    <div class="row">
                        <a th:href="@{'/comments/edit/' + ${comment.id}}" class="btn btn-primary">Edit</a>
                        <a href="#" class="btn btn-primary">Delete</a>
                    </div>
                </div>
            </div>
        </div>
        <form th:action="@{/comments/create}" th:method="post" th:object="${comment}">
            <div class="form-group">
                <input th:field="*{body}" class="form-control" placeholder="enter comment"/>
                <input type="hidden" name="postId" th:value="${post.id}"/>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        <!--<div class="row">-->
            <!--<a class="btn btn-primary" th:href="@{'/comments/create/' + ${post.id}}">Comment</a>-->
        <!--</div>-->
    </div>

    <th:block th:replace="fragments/footer :: footer" />
    <th:block th:replace="fragments/jsLinks :: jsLinks" />
</body>
</html>